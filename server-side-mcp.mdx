---
title: "Connect Your MCP Server"
description: "Point Crow at an MCP server you already have running"
---

If you already have an MCP server deployed, connect it to Crow so your agent can use its tools.

<Tip>
**Don't have an MCP server yet?** Use [Envoy](/envoy) to auto-generate one from your codebase in minutes — no MCP knowledge needed.
</Tip>

## Connect in Dashboard

1. Go to **Integration** → **Server-Side Tools**
2. Enter your server details:

| Field | Description | Example |
|-------|-------------|---------|
| **Name** | Display name | `my-backend` |
| **URL** | Your MCP server endpoint | `https://mcp.yourapp.com/mcp` |
| **Transport** | Streamable HTTP (recommended) or SSE | Streamable HTTP |
| **Headers** | Optional auth headers | `Authorization: Bearer sk-...` |

3. Click **Test Connection** — Crow will connect and discover your tools
4. Click **Save**
5. Go to **Actions** to enable the tools you want the agent to use

## Identity Headers

Forward end-user identity to your MCP server so tools can return user-specific data.

Under **Header Mappings**, add mappings like:

| Header | Source | What gets sent |
|--------|--------|----------------|
| `X-User-ID` | `identity.user_id` | The logged-in user's ID |
| `X-Tenant-ID` | `identity.tenant_id` | Custom claim from your identity JWT |

Crow resolves these from the user's [identity token](/identity-verification) and sends them as HTTP headers on every request to your MCP server.

<Note>
Identity headers only work for authenticated users. Set up [Identity Verification](/identity-verification) first.
</Note>

For the full auth chain (service keys, identity forwarding, backend middleware), see [Server-Side MCP Authentication](/server-side-mcp-authentication).

## Managing Your Server

- **Sync Tools** — Re-discover tools after updating your server
- **Enable/Disable Tools** — Toggle individual tools in **Actions**
- **Edit** — Change URL, transport, or headers
- **Delete** — Remove the connection entirely

## Troubleshooting

| Issue | Solution |
|-------|----------|
| Connection failed | Verify URL is reachable, check transport type matches your server |
| Tools not appearing | Click **Sync Tools**, check server logs |
| Agent not using tools | Enable tools in **Actions**, make sure tool descriptions are clear |
| 401 errors | Check auth headers, see [Authentication guide](/server-side-mcp-authentication) |
| Timeout | Ensure your MCP server responds within 10 seconds |

---

<CardGroup cols={2}>
  <Card title="Envoy CLI" icon="wand-magic-sparkles" href="/envoy">
    Auto-generate an MCP server from your code
  </Card>
  <Card title="Authentication" icon="key" href="/server-side-mcp-authentication">
    Service keys, identity headers, and the full auth chain
  </Card>
</CardGroup>
