---
title: "Embed Widget"
description: "Add the Crow widget to your website"
---

## Installation

Choose your preferred installation method:

<Tabs>
  <Tab title="Script Tag">
    Add the script before `</body>`:

    <CodeGroup>

    ```html HTML
    <script
      src="https://api.usecrow.org/static/crow-widget.js"
      data-api-url="https://api.usecrow.org"
      data-product-id="YOUR_PRODUCT_ID"
      data-agent-name="Your Agent Name"
    ></script>
    ```

    ```jsx Next.js
    import Script from 'next/script'

    export default function Layout({ children }) {
      return (
        <>
          {children}
          <Script
            src="https://api.usecrow.org/static/crow-widget.js"
            data-api-url="https://api.usecrow.org"
            data-product-id="YOUR_PRODUCT_ID"
            data-agent-name="Your Agent Name"
            strategy="afterInteractive"
          />
        </>
      )
    }
    ```

    </CodeGroup>

    | Attribute | Required | Description |
    |-----------|----------|-------------|
    | `data-api-url` | Yes | `https://api.usecrow.org` |
    | `data-product-id` | Yes | Your product ID from dashboard |
    | `data-agent-name` | No | Display name (defaults to "Assistant") |
  </Tab>

  <Tab title="React SDK">
    Install the SDK:

    ```bash
    npm install @usecrow/client @usecrow/ui
    ```

    Add to your app:

    ```tsx
    'use client';

    import { CrowWidget } from '@usecrow/ui';
    import '@usecrow/ui/styles.css';

    export function CrowWidgetClient() {
      return (
        <CrowWidget
          productId="YOUR_PRODUCT_ID"
          apiUrl="https://api.usecrow.org"
          agentName="Your Agent Name"
        />
      );
    }
    ```

    | Prop | Required | Description |
    |------|----------|-------------|
    | `productId` | Yes | Your product ID from dashboard |
    | `apiUrl` | Yes | `https://api.usecrow.org` |
    | `agentName` | No | Display name (defaults to "Assistant") |
    | `getIdentityToken` | No | Async function returning a JWT. Auto-refreshes on expiry. See [Identity Verification](/identity-verification) |
    | `context` | No | Page context object sent with every message. Reactive — updates when the object changes |
    | `toolRenderers` | No | Map of tool name → React component for inline rendering. See [Tool Renderers](/tool-renderers) |
    | `onToolResult` | No | Callback `(toolName, result) => void` fired when a server-side tool completes |
    | `navigate` | No | SPA navigation function (e.g. `router.push`) for internal links |

    <Accordion title="Copilot Sidebar">
    The SDK also includes a sidebar component — no provider wrapping needed:

    ```tsx
    'use client';

    import { CrowCopilot } from '@usecrow/ui';
    import '@usecrow/ui/styles.css';

    export function App() {
      return (
        <>
          <YourApp />
          <CrowCopilot
            productId="YOUR_PRODUCT_ID"
            apiUrl="https://api.usecrow.org"
            variant="floating"
            position="right"
            width={400}
            getIdentityToken={async () => {
              const res = await fetch('/api/crow-token');
              const { token } = await res.json();
              return token;
            }}
            context={{ pageId: 'current-page-id' }}
            navigate={(path) => router.push(path)}
          />
        </>
      );
    }
    ```
    </Accordion>
  </Tab>
</Tabs>

## Find Your Product ID

1. Go to [app.usecrow.ai/deploy](https://app.usecrow.ai/deploy)
2. Copy your Product ID

---

## User Identity

Authenticate users for persistent conversations and user-specific actions.

<Tabs>
  <Tab title="Script Tag">
    ```javascript
    window.crow('identify', {
      token: 'jwt-from-your-backend',  // Required
      name: 'John Doe'                  // Optional
    })

    // On logout
    window.crow('resetUser')
    ```
  </Tab>

  <Tab title="React SDK">
    Pass `getIdentityToken` — the SDK handles calling it on mount and auto-refreshing on expiry:

    ```tsx
    import { CrowWidget } from '@usecrow/ui';

    function App() {
      return (
        <CrowWidget
          productId="YOUR_PRODUCT_ID"
          apiUrl="https://api.usecrow.org"
          getIdentityToken={async () => {
            const res = await fetch('/api/crow-token');
            const { token } = await res.json();
            return token;
          }}
        />
      );
    }
    ```
  </Tab>
</Tabs>

See [Identity Verification](/identity-verification) for backend JWT setup.

---

## Client-Side Tools

Register tools the agent can call. The return value from your handler is sent back to the agent, so it can confirm success or handle errors intelligently.

See [Client-Side Tools](/client-side-tools) for full setup.

<Tabs>
  <Tab title="Script Tag">
    ```javascript
    window.crow('registerTools', {
      navigateToPage: async ({ path }) => {
        router.push(path)
        return { success: true }  // Agent sees this result
      },
      
      showUpgradeModal: async () => {
        document.getElementById('upgrade-modal').showModal()
        return { shown: true }
      }
    })
    ```
  </Tab>

  <Tab title="React SDK">
    ```tsx
    import { CrowWidget } from '@usecrow/ui';

    function App() {
      const tools = {
        navigateToPage: async ({ path }) => {
          router.push(path);
          return { success: true };  // Agent sees this result
        },
        
        showUpgradeModal: async () => {
          document.getElementById('upgrade-modal').showModal();
          return { shown: true };
        }
      };

      return (
        <CrowWidget
          productId="YOUR_PRODUCT_ID"
          apiUrl="https://api.usecrow.org"
          tools={tools}
        />
      );
    }
    ```
  </Tab>
</Tabs>

<Tip>
Return meaningful results from your tools. The agent uses these to provide accurate feedback like "Done! I've navigated you to Settings" or handle errors gracefully.
</Tip>

---

## Troubleshooting

| Issue | Solution |
|-------|----------|
| Widget not appearing | Check Product ID, verify script/component is rendered |
| Console errors | Check `apiUrl` is correct |
| CORS errors | Contact support to whitelist your domain |
