---
title: "Embed Widget"
description: "Add the Crow widget to your website"
---

## Installation

<CodeGroup>

```html HTML
<!-- Add before </body> -->
<script
  src="https://api.usecrow.org/static/crow-widget.js"
  data-api-url="https://api.usecrow.org"
  data-product-id="YOUR_PRODUCT_ID"
></script>
```

```jsx React
// _app.tsx or layout.tsx
import Script from 'next/script'

export default function Layout({ children }) {
  return (
    <>
      {children}
      <Script
        src="https://api.usecrow.org/static/crow-widget.js"
        data-api-url="https://api.usecrow.org"
        data-product-id="YOUR_PRODUCT_ID"
        strategy="afterInteractive"
      />
    </>
  )
}
```

```vue Vue
<script setup>
import { onMounted } from 'vue'

onMounted(() => {
  const script = document.createElement('script')
  script.src = 'https://api.usecrow.org/static/crow-widget.js'
  script.setAttribute('data-api-url', 'https://api.usecrow.org')
  script.setAttribute('data-product-id', 'YOUR_PRODUCT_ID')
  document.body.appendChild(script)
})
</script>
```

```svelte Svelte
<script>
  import { onMount } from 'svelte'

  onMount(() => {
    const script = document.createElement('script')
    script.src = 'https://api.usecrow.org/static/crow-widget.js'
    script.setAttribute('data-api-url', 'https://api.usecrow.org')
    script.setAttribute('data-product-id', 'YOUR_PRODUCT_ID')
    document.body.appendChild(script)
  })
</script>
```

</CodeGroup>

## Script Attributes

| Attribute | Required | Description |
|-----------|----------|-------------|
| `src` | Yes | Widget script URL |
| `data-api-url` | Yes | `https://api.usecrow.org` |
| `data-product-id` | Yes | Your product ID from dashboard |

## Find Your Product ID

1. Go to [app.usecrow.ai/deploy](https://app.usecrow.ai/deploy)
2. Copy your Product ID and replace `YOUR_PRODUCT_ID` in the script tag above

---

## JavaScript API

The widget exposes `window.crow()` for programmatic control.

### identify

Authenticate the current user. Enables persistent conversations and user-specific actions.

```javascript
window.crow('identify', {
  token: 'jwt-from-your-backend',  // Required
  name: 'John Doe'                  // Optional, shown in chat
})
```

See [Identity Verification](/identity-verification) for backend setup.

### resetUser

Clear user identity (call on logout).

```javascript
window.crow('resetUser')
```

### registerTools

Register client-side tools the agent can call. Useful for actions that need access to your app's state.

<Note>
First, define which tools your agent can use in [Integration → Client Side](/client-side-tools). Then register handlers here to execute them.
</Note>

```javascript
window.crow('registerTools', {
  getCurrentPage: async () => {
    return { page: window.location.pathname }
  },
  
  addToCart: async ({ productId, quantity }) => {
    await yourCartAPI.add(productId, quantity)
    return { success: true }
  },
  
  showUpgradeModal: async () => {
    document.getElementById('upgrade-modal').showModal()
    return { shown: true }
  }
})
```

<Note>
Client tools run in the browser. Currently fire-and-forget—the agent triggers them but doesn't see the return value. Interested in bidirectional tool results? [Book a demo](https://cal.com/aryan-vij-wpimwt/30min).
</Note>

---

## Troubleshooting

| Issue | Solution |
|-------|----------|
| Widget not appearing | Check script is inside `<body>`, verify Product ID |
| Console errors | Check `data-api-url` is correct |
| CORS errors | Contact support to whitelist your domain |
